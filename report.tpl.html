<html>
<head></head>
<body>
	<!-- 
日志report模板，这里直接写html和js模板
会传入一个模板变量TimeMarkDebug
注意模板里面的不要用单引号，要用双引号
 -->
	<style>
table {
	border-collapse: collapse;
}

th {
	text-align: left;
}

td {
	text-align: center;
}

td,th {
	margin: 0;
	padding: 0;
	border: 1px solid #ccc;
	min-width: 100px;
}
</style>
	<script>
		console.log("TimeMarkDebug", {%= JSON.stringify(TimeMarkDebug) %});
	</script>
	<script>
		window.clear = function() {
			clearTimeout(window.timeoutClearIfm);
			if (!window.clearIfm) {
				window.clearIfm = document.createElement("iframe");
				window.clearIfm.src = "./clean";
				document.body.appendChild(window.clearIfm);
			} else {
				window.clearIfm.location.reload();
			}
			window.timeoutClearIfm = setTimeout(function(){
				document.body.removeChild(window.clearIfm);
				window.clearIfm = null;
			}, 3000);
		}
	</script>
	<button onClick="window.clear()">点我清空ServerLog缓存，然后自己点浏览器刷新</button>


	<table>
		<caption>Time Mark Debug</caption>
		</thead>
		<thead>
			<th>Log</th>
			<td>Spend</td>
			<td>From</td>
		</thead>
		<tbody>
			{% for(var i = 0; TimeMarkDebug.length && (i < TimeMarkDebug.length);
			i++){ %}
			<tr>
				<th>{%= TimeMarkDebug[i].id %}
				</td>
				<td>{%= i==0 ? 0 :
					(TimeMarkDebug[i].time-TimeMarkDebug[i-1].time) %}</td>
				<td>{%= TimeMarkDebug[i].url %}</td>
			</tr>
			{% } %}
		</tbody>
	</table>
</body>
</html>